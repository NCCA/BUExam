% Note this requires the (standard) exam package
\documentclass[a4paper,12pt,addpoints]{exam} 

%This is the package which you need to include. The ``onlynumbers'' option make part numbering numerical only (e.g. 2.1.5)
%\usepackage[onlynumbers]{buexam}
% By default, part numbering is number.letter.roman, e.g. 2.a.v
\usepackage{buexam}



% The Unit title of the exam (append RESIT to the end if necessary)
\setunittitle{Zombies in Popular Media and Mathematics}
% A shortened / abbreviated name of the unit
\setunittitleshort{ZPMM}
% The unit reference (might be the same as short name)
\setunitrefs{ZPMM}
% The level of the examination (4,5,6 etc)
\setunitlevel{L4}
% The exam reference (get this from the school
\setexamref{ZZZ1234Z}
% Unit leader of the course
\setunitleadername{Anne Onymous}
% Unit leader extension
\setunitleaderext{60000}
% Assistant name
\setassistantname{John Doe}
% Assistant extension
\setassistantext{60000}

% Set the academic year of the exam (e.g. 2018/19)
\setacademicyear{2018/19}

% Set the exam duration in hours and minutes
\setdurationhours{2}
\setdurationminutes{30}

% There are the specific instructions for candidates
\setinstructions{
See Front Page Instruction Samples document \href{https://docs.bournemouth.ac.uk/sites/as/exams/default.aspx}{[here]}.

This could include information about:
\begin{itemize}[leftmargin=0.5in]
\item[] If question paper needs to be handed in
\item[] Number of questions to answer
\item[] Allocation of marks
\item[] Where / how to answer questions (e.g. answer books /  MCQ answer sheet etc)
\item[] Supplied materials
\item[] Permitted materials / equipment
\item[] Note, this list should be created without bullet points (hence the \textbackslash item[])
\item[] This exam \textbf{must} include Exam Question Paper Checklist, available \href{https://docs.bournemouth.ac.uk/sites/as/exams/Exam\%20Question\%20Paper\%20Documents/EXAM\%20QUESTION\%20PAPER\%20TEMPLATE\%202018-19.dotx}{[here]}.
\end{itemize}
}

% This option should be commented out for the final paper (don't forget!)
%\printanswers

\begin{document}

% Note that this command will create ``Section B\\Answer All Questions'' - you have to use this, as it is in an itemized environment.
\sectioninstructions{Answer ALL Questions}

% Questions can consist of multiple parts. Note that the sum of the parts must make the total (in this case, [15]).
\titledquestion{Zombies in films}
Consider Zombies in films. 
\begin{parts}
\part[5] Name some films with Zombies \droppoints
\begin{solution}
\begin{itemize}
\item Pride and Prejudice... with Zombies!
\item Abraham Lincoln... Zombie Hunter!
\item etc.
\end{itemize}
\end{solution}

% Maths example
\part[10] State the average number of characters eaten by a single Zombie in "`28 Days Later"'. Use the following formula: \droppoints
\begin{align}
\bar{x} &= \frac{1}{n}\cdot \sum_{i=1}^{n} x_i \nonumber
\end{align}
\begin{solution}
At least 3. Zombies are awesome.
\end{solution}
\end{parts}

% A newpage is required between sections
\newpage

% Note that this command will create ``Section B\\Answer Only ODD numbered questions'' - you have to use this, as it is in an itemized environment.
\sectioninstructions{Answer Only ODD numbered questions}

\titledquestion{Zombie Programming}
Consider the following code segment:

\begin{CUDA}
#include <iostream>
#include <math.h>

// Kernel function to add the elements of two arrays
__global__ void add(int n, float *x, float *y) {
  for (int i = 0; i < n; i++) y[i] = x[i] + y[i];
}

int main(void) {
  int N = 1<<20;
  float *x, *y;
  // Allocate Unified Memory â€“ accessible from CPU or GPU
  cudaMallocManaged(&x, N*sizeof(float));
  cudaMallocManaged(&y, N*sizeof(float));
  // initialize x and y arrays on the host
  for (int i = 0; i < N; i++) x[i] = 1.0f; y[i] = 2.0f;
  // Run kernel on 1M elements on the GPU
  add<<<1, 1>>>(N, x, y);
  // Free memory
  cudaFree(x); cudaFree(y);
  return 0;
}
\end{CUDA}

\begin{parts}
%Example of code inclusion
\part In your own words, explain:
\begin{subparts}
\subpart[5] Was this code produced by a Zombie? Consider the use of \cudainline{__global__}. \droppoints
\begin{solution}
Clearly, the lameness indicates that it is Zombie generated code (ZGC).
\end{solution}
\subpart[5] How would you improve on the above code? \droppoints 
\begin{solution}
Don't use the std namespace! Better to give your fingers exercise and type it every time.
\end{solution}
\end{subparts}

\part[10] Write a page essay on any topic you like. Appropriate use of references required.\droppoints
\begin{solution}
 Blah Blah Blah
\end{solution}

\end{parts}

\newpage

\titledquestion{Zombie Algorithms}
\begin{parts}

% Example of an algorithm
 \part[10] Consider the following algorithm:

\begin{algorithmic}
\REQUIRE $n \geq 0$
\ENSURE $y = x^n$
\STATE $y \leftarrow 1$
\STATE $X \leftarrow x$
\STATE $N \leftarrow n$
\WHILE{$N \neq 0$}
\IF{$N$ is even}
\STATE $X \leftarrow X \times X$
\STATE $N \leftarrow N / 2$
\ELSE[$N$ is odd]
\STATE $y \leftarrow y \times X$
\STATE $N \leftarrow N - 1$
\ENDIF
\ENDWHILE
\end{algorithmic}
Describe in your own words the thought processes required for a Zombie to generate this algorithm. How can the promise of fresh brains serve as a motivators? \droppoints
\begin{solution}
Blah blah blah.
\end{solution}

% Example of image inclusion
\part[5] Admire our institution's mighty logo:
\begin{center}
\includegraphics[width=0.1\textwidth]{bulogo.png}
\end{center}
Draw this in a manner similar to a Zombie. Coloured pens are provided.\droppoints
\begin{solution}
Blah blah blah.
\end{solution}
\end{parts}

% The postamble is needed as part of the uni style. (this cannot be automatic as AtEndOfDocument adds a \newpage)
\afterlastquestion

\end{document}


